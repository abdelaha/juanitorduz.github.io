base.url = '/'
opts_knit$set(base.url = base.url)
library(knitr)
opts_knit$set(base.url = base.url)
fig.path <- paste0(figsfolder, sub(".Rmd$", "", basename(input)), "/")
figsfolder = 'images/'
cachefolder = '_caches'
opts_knit$set(base.url = base.url)
fig.path <- paste0(figsfolder, sub(".Rmd$", "", basename(input)), "/")
list.files(infolder, pattern = "*.Rmd", full.names = TRUE)
infolder = ''
list.files(infolder, pattern = "*.Rmd", full.names = TRUE)
getwd()
list.files(
)
list.files(pattern = "*.Rmd", full.names = TRUE)
list.files(pattern = "*.Rmd", full.names = TRUE)
input <- r_notebook_test.Rmd
input <- "r_notebook_test.Rmd"
opts_knit$set(base.url = base.url)
fig.path <- paste0(figsfolder, sub(".Rmd$", "", basename(input)), "/")
cache.path <- file.path(cachefolder, sub(".Rmd$", "", basename(input)), "/")
opts_chunk$set(fig.path = fig.path)
opts_chunk$set(cache.path = cache.path)
opts_chunk$set(fig.cap = "center")
render_markdown()
knit(input, output = NULL, envir = parent.frame())
paste0(figsfolder, sub(".Rmd$", "", basename(input)), "/")
infolder = 'R_notebooks'
outfolder = 'R_md'
figsfolder = 'images/'
cachefolder = '_caches'
getwd()
getwd()
setwd('/Users/juanitorduz/juanitorduz.github.io/')
setwd('/Users/juanitorduz/juanitorduz.github.io/')
infolder = '_R/R_notebooks'
outfolder = '_R/R_md
list.files(pattern = "*.Rmd", full.names = TRUE)
list.files(pattern = "*.Rmd", full.names = TRUE)
list.files(path = infolder, pattern = "*.Rmd", full.names = TRUE)
infile <-  "_R/R_notebooks/r_notebook_test.Rmd"
print(infile)
outfile = paste0(outfolder, "/", sub(".Rmd$", ".md", basename(infile)))
outfile
print(outfile)
input = infile
outfile = outfile
opts_knit$set(base.url = base.url)
fig.path <- paste0(figsfolder, sub(".Rmd$", "", basename(input)), "/")
figsfolder = 'content/images/'
achefolder = '_caches'
cachefolder = '_caches'
utfolder = 'content/'
outfolder = 'content/'
figsfolder = 'content/images/'
opts_knit$set(base.url = base.url)
fig.path <- paste0(figsfolder, sub(".Rmd$", "", basename(input)), "/")
cache.path <- file.path(cachefolder, sub(".Rmd$", "", basename(input)), "/")
opts_chunk$set(fig.path = fig.path)
opts_chunk$set(cache.path = cache.path)
opts_chunk$set(fig.cap = "center")
render_markdown()
knit(input, output = NULL, envir = parent.frame())
render_markdown()
knit(input = input, output = outfile , envir = parent.frame())
outfolder = 'content/'
outfile = paste0(outfolder, "/", sub(".Rmd$", ".md", basename(infile)))
print(outfile)
utfolder = 'content'
outfile = paste0(outfolder, "/", sub(".Rmd$", ".md", basename(infile)))
outfile
outfolder
utfolder = 'content'
outfolder = 'content'
outfile = paste0(outfolder, "/", sub(".Rmd$", ".md", basename(infile)))
render_markdown()
knit(input = input, output = outfile , envir = parent.frame())
library(knitr)
KnitPost <- function(input, outfile, figsfolder, cachefolder, base.url = '/') {
opts_knit$set(base.url = base.url)
fig.path <- paste0(figsfolder, sub(".Rmd$", "", basename(input)), "/")
cache.path <- file.path(cachefolder, sub(".Rmd$", "", basename(input)), "/")
opts_chunk$set(fig.path = fig.path)
opts_chunk$set(cache.path = cache.path)
opts_chunk$set(fig.cap = "center")
render_markdown()
knit(input = input, output = outfile , envir = parent.frame())
}
knit_folder <- function(infolder, outfolder, figsfolder, cachefolder, force = F) {
for (infile in list.files(path = infolder, pattern = "*.Rmd", full.names = TRUE)) {
print(infile)
outfile = paste0(outfolder, "/", sub(".Rmd$", ".md", basename(infile)))
print(outfile)
# knit only if the input file is the last one modified
if (!file.exists(outfile) | file.info(infile)$mtime > file.info(outfile)$mtime) {
KnitPost(input = infile,
outfile = outfile,
figsfolder = figsfolder,
cachefolder = cachefolder)
}
}
}
knit_folder(infolder = '_R/R_notebooks',
outfolder = 'content',
figsfolder = 'content/images/',
cachefolder = '_caches')
knit_folder(infolder = '_R/R_notebooks',
outfolder = 'content',
figsfolder = 'content/images/',
cachefolder = '_caches')
knit_folder(infolder = '_R/R_notebooks',
outfolder = 'content',
figsfolder = 'content/images/',
cachefolder = '_caches')
#!/usr/local/bin/Rscript --vanilla
# compiles all .Rmd files in _R directory into .md files in blog directory,
# if the input file is older than the output file.
# run ./knitpages.R to update all knitr files that need to be updated.
# run this script from your base content directory
setwd('/Users/juanitorduz/juanitorduz.github.io/')
library(knitr)
KnitPost <- function(input, outfile, figsfolder, cachefolder, base.url = '/') {
opts_knit$set(base.url = base.url)
fig.path <- paste0(figsfolder, sub(".Rmd$", "", basename(input)), "/")
cache.path <- file.path(cachefolder, sub(".Rmd$", "", basename(input)), "/")
opts_chunk$set(fig.path = fig.path)
opts_chunk$set(cache.path = cache.path)
opts_chunk$set(fig.cap = "center")
render_markdown()
knit(input = input, output = outfile , envir = parent.frame())
}
knit_folder <- function(infolder, outfolder, figsfolder, cachefolder, force = F) {
for (infile in list.files(path = infolder, pattern = "*.Rmd", full.names = TRUE)) {
print(infile)
outfile = paste0(outfolder, "/", sub(".Rmd$", ".md", basename(infile)))
print(outfile)
# knit only if the input file is the last one modified
if (1==1) {
KnitPost(input = infile,
outfile = outfile,
figsfolder = figsfolder,
cachefolder = cachefolder)
}
}
}
knit_folder(infolder = '_R/R_notebooks',
outfolder = 'content',
figsfolder = 'content/images/',
cachefolder = '_caches')
